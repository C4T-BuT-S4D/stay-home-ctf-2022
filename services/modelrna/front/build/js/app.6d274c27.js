(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==s[l]&&(a=!1)}a&&(n.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},s={app:0},n=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"053e":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},n=[],i=r("2877"),o={},l=Object(i["a"])(o,s,n,!1,null,null,null),c=l.exports,u=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[r("div",{staticClass:"ui text container"},[r("h1",{staticClass:"ui header"},[e._v("Welcome to the modelrna!")]),r("div",{staticClass:"ui one column grid"},[r("div",{staticClass:"column"},[r("h3",[e._v("This service can help you to upload vaccine models and help other to test the vaccine!")]),r("img",{staticClass:"ui image",attrs:{height:"50%",src:e.publicPath+"vaccine.jpeg"}})])])])])},d=[],p=r("88e9"),v={components:{Layout:p["a"]},data:function(){return{publicPath:"/"}}},h=v,f=Object(i["a"])(h,m,d,!1,null,null,null),g=f.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==e.error&&e.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:e.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("div",{staticClass:"ui one column grid"},[r("div",{staticClass:"column"},[r("h1",{staticClass:"ui header"},[e._v("Register")])])]),r("div",{staticClass:"ui text container"},[r("form",{staticClass:"ui form",attrs:{method:"post",action:""},on:{submit:e.register}},[r("div",{staticClass:"field"},[r("label",[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",required:"",name:"username",placeholder:"user"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"password",required:"",name:"password",placeholder:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",required:"",name:"email",placeholder:"user@cbsctf.live"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Vaccine name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.vaccineName,expression:"vaccineName"}],attrs:{type:"text",id:"vaccineInput",required:"",name:"vaccineName",placeholder:""},domProps:{value:e.vaccineName},on:{input:function(t){t.target.composing||(e.vaccineName=t.target.value)}}})]),r("button",{staticClass:"ui button",attrs:{type:"submit"}},[e._v("Submit")])])])])],1)},b=[],y=(r("96cf"),r("1da1")),w={components:{Layout:p["a"]},methods:{register:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.$http.post("register",{username:t.username,email:t.email,vaccine_name:t.vaccineName,password:t.password});case 4:a=r.sent,s={user:t.username,token:a.data.api_token,userId:a.data.user_id},t.$store.commit("login",s),t.$router.push({name:"Home"})["catch"]((function(){})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](1),t.error=JSON.stringify(r.t0.response.data.detail),t.errorVisible=!0;case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},handleDismiss:function(){this.errorVisible=!1}},data:function(){return{username:null,vaccineName:null,email:null,password:null,error:null,errorVisible:!1}}},x=w,C=Object(i["a"])(x,_,b,!1,null,null,null),D=C.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==e.error&&e.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:e.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("div",{staticClass:"ui one column grid"},[r("div",{staticClass:"column"},[r("h1",{staticClass:"ui header"},[e._v("Login")])])]),r("div",{staticClass:"ui text container"},[r("form",{staticClass:"ui form",attrs:{method:"post",action:""},on:{submit:e.login}},[r("div",{staticClass:"field"},[r("label",[e._v("username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",required:"",name:"username",placeholder:"user"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",id:"password",required:"",name:"password",placeholder:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("button",{staticClass:"ui button",attrs:{type:"submit"}},[e._v("Submit")])])])])],1)},R=[],$={components:{Layout:p["a"]},methods:{login:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,r.next=4,t.$http.post("login",{username:t.username,password:t.password});case 4:a=r.sent,s={user:t.username,token:a.data.api_token,userId:a.data.user_id},t.$store.commit("login",s),t.$router.push({name:"Home"})["catch"]((function(){})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](1),t.error=JSON.stringify(r.t0.response.data.detail),t.errorVisible=!0;case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},handleDismiss:function(){this.errorVisible=!1}},data:function(){return{username:null,password:null,error:null,errorVisible:!0}}},O=$,V=Object(i["a"])(O,k,R,!1,null,null,null),I=V.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==e.error&&e.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:e.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("p",[e._v("Welcome home, "+e._s(this.$store.state.user))]),r("p",[e._v(" Your ID: "),r("a",{attrs:{href:"#"}},[e._v(e._s(this.$store.state.userId))])]),r("p",[e._v(" Your API token: "),r("a",{staticStyle:{"word-break":"break-all"},attrs:{href:"#"}},[e._v(e._s(this.$store.state.token))])]),r("p",[e._v("Your vaccine info:")]),r("div",{staticClass:"ui info message"},[r("p",[e._v(" VaccineID: "),r("a",{attrs:{href:"#"}},[e._v(e._s(e.userInfo.vaccine_info.vaccine_id))])]),r("p",[e._v(" Vaccine key: "),r("a",{staticStyle:{"word-break":"break-all"},attrs:{href:"#"}},[e._v(e._s(e.userInfo.vaccine_info.vaccine_key))])])]),r("p",[r("router-link",{staticClass:"ui button",attrs:{to:{name:"Upload"}}},[e._v(" Upload your model ")]),r("a",{staticClass:"ui button",attrs:{href:"/docs/upload.html"}},[e._v(" You could also upload your model using the API(see the doc) ")])],1),r("p",[r("router-link",{staticClass:"ui button",attrs:{to:{name:"TestVaccine",params:{vaccineID:e.userInfo.vaccine_info.vaccine_id,vaccineName:e.userInfo.vaccine_info.vaccine_name,vaccineAuthor:e.userInfo.username}}}},[e._v("Test your model ")]),r("router-link",{staticClass:"ui button",attrs:{to:{name:"TestResults"}}},[e._v("See the completed tests with your vaccine model ")])],1)]),r("br")],1)},j=[],S={components:{Layout:p["a"]},data:function(){return{userInfo:{},errorVisible:!1}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.$store.state),t.next=3,e.getUserInfo();case 3:case"end":return t.stop()}}),t)})))()},methods:{getUserInfo:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("userinfo");case 3:r=t.sent,console.log(r),e.userInfo=r.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error=JSON.stringify(t.t0.response.data.detail),e.errorVisible=!0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleDismiss:function(){this.errorVisible=!1}}},P=S,T=Object(i["a"])(P,N,j,!1,null,null,null),L=T.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==e.error&&e.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:e.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("p",[e._v("Vaccines feed")]),e._l(e.vaccines,(function(t){return r("div",{key:t.user_id,staticClass:"ui info message"},[r("p",[e._v("Vaccine Name: "+e._s(t.vaccine_info.name))]),r("p",[e._v("Vaccine ID: "+e._s(t.vaccine_info.id))]),r("p",[e._v("Built by: "+e._s(t.username)+" (ID = "+e._s(t.user_id)+")")]),r("p",[e._v("Contact: "+e._s(t.email))]),r("router-link",{attrs:{to:{name:"TestVaccine",params:{vaccineID:t.vaccine_info.id,vaccineName:t.vaccine_info.name,vaccineAuthor:""+t.username}}}},[e._v("Test ")])],1)}))],2)],1)},q=[],F={components:{Layout:p["a"]},data:function(){return{vaccines:[],error:null,errorVisible:!1}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSyncs();case 2:case"end":return t.stop()}}),t)})))()},methods:{getSyncs:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("users");case 3:r=t.sent,console.log(r.data),e.vaccines=r.data,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error=t.t0.response.data.error,e.errorVisible=!0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleDismiss:function(){this.errorVisible=!1}}},U=F,E=Object(i["a"])(U,A,q,!1,null,null,null),B=E.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==e.error&&e.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:e.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("h2",[e._v("Test result:")]),r("h3",[r("span",{class:e.predictionColor},[e._v(" "+e._s(e.predictionClass)+" ")]),e._v("with probability "+e._s(100*e.testResult.prediction_probability)+" % ")]),r("p",[e._v("User data:")]),r("div",{staticClass:"ui info message"},[r("p",[e._v("Age: "+e._s(e.testResult.age))]),r("p",[e._v("Sex: "+e._s(e.testResult.sex))]),r("p",[e._v("Blood type: "+e._s(e.testResult.blood_type))]),r("p",[e._v("RH: "+e._s(e.testResult.rh))]),r("p",[e._v("Sugar level: "+e._s(e.testResult.sugar_level))]),r("p",[e._v("SSN: "+e._s(e.testResult.ssn))]),r("p")])]),r("br")],1)},H=[],M={components:{Layout:p["a"]},data:function(){return{testResult:{age:0,blood_type:0,prediction:0,prediction_probability:0,rh:0,sex:0,ssn:"",sugar_level:0},testID:null,errorVisible:!1,error:null}},computed:{predictionClass:function(){var e="Vaccine ";return this.testResult.prediction?e+"will work for you":e+"won't work for you"},predictionColor:function(){return this.testResult.prediction?"success":"fail"}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.testID=e.$route.params.testID,t.next=3,e.getTestResult();case 3:case"end":return t.stop()}}),t)})))()},methods:{getTestResult:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("vaccine/test/".concat(e.testID));case 3:r=t.sent,e.testResult=r.data,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=JSON.stringify(t.t0.response.data.detail),e.errorVisible=!0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},handleDismiss:function(){this.errorVisible=!1}}},Y=M,W=(r("69dd"),Object(i["a"])(Y,J,H,!1,null,null,null)),z=W.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==e.error&&e.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:e.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("h3",[e._v("Test results for your vaccine:")]),e._l(e.testResults,(function(t){return r("div",{key:t.user_id,staticClass:"ui info message"},[r("p",[e._v("Prediction class: "+e._s(t.prediction))]),r("p",[e._v("Prediction probability: "+e._s(t.prediction_probability))]),r("p",[e._v("Age: "+e._s(t.age))]),r("p",[e._v("Sex: "+e._s(t.sex))]),r("p",[e._v("Blood type: "+e._s(t.blood_type))]),r("p",[e._v("RH: "+e._s(t.rh))]),r("p",[e._v("Sugar level: "+e._s(t.sugar_level))]),r("p",[e._v("SSN: "+e._s(t.ssn))])])}))],2),r("br")],1)},X=[],K={components:{Layout:p["a"]},data:function(){return{testResults:[],errorVisible:!1,error:null}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getVaccineTests();case 2:case"end":return t.stop()}}),t)})))()},methods:{getVaccineTests:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("vaccine/tests");case 3:r=t.sent,e.testResults=r.data,console.log(e.testResults),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error=JSON.stringify(t.t0.response.data.detail),e.errorVisible=!0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleDismiss:function(){this.errorVisible=!1}}},Q=K,Z=Object(i["a"])(Q,G,X,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==e.error&&e.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:e.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("div",{staticClass:"ui one column grid"},[r("div",{staticClass:"column"},[r("h1",{staticClass:"ui header"},[e._v("Create sync")]),r("p",[e._v("Be mindful as the editing sync is not yet implemented.")])])]),r("br"),r("div",{staticClass:"ui text container"},[r("sui-form",{staticClass:"ui form",attrs:{method:"post",action:""},on:{submit:e.create}},[r("div",{staticClass:"field"},[r("label",[e._v("Title")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",required:"",name:"title",placeholder:"Green Neko sync"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Description")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{type:"text",required:"",name:"description",placeholder:""},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Capacity")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.capacity,expression:"capacity"}],attrs:{type:"number",required:"",name:"capacity",placeholder:"30"},domProps:{value:e.capacity},on:{input:function(t){t.target.composing||(e.capacity=t.target.value)}}})]),r("div",{staticClass:"ui divider"}),r("p",[e._v("Customize the template image:")]),r("div",{staticClass:"field"},[r("label",[e._v("Image src(or upload image below)")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.img_src,expression:"img_src"}],attrs:{type:"text",name:"image_src",placeholder:""},domProps:{value:e.img_src},on:{input:function(t){t.target.composing||(e.img_src=t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Upload image")]),r("input",{ref:"imgFile",attrs:{type:"file"},on:{change:e.loadTextFromFile}})]),r("div",{staticClass:"two fields"},[r("div",{staticClass:"field"},[r("label",[e._v("Image height(%)")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.img_height,expression:"img_height"}],attrs:{type:"number",required:"",name:"image_height",min:"0",max:"100",step:"10",placeholder:"50"},domProps:{value:e.img_height},on:{input:function(t){t.target.composing||(e.img_height=t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Image width(%)")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.img_width,expression:"img_width"}],attrs:{type:"number",required:"",name:"image_width",min:"0",max:"100",step:"10",placeholder:"50"},domProps:{value:e.img_width},on:{input:function(t){t.target.composing||(e.img_width=t.target.value)}}})])]),r("button",{staticClass:"ui button",attrs:{type:"submit"}},[e._v("Submit")])])],1),r("div",{staticClass:"ui text container"},[r("div",{attrs:{id:"template-ticket"}},[r("p",{attrs:{id:"templateTitle"}},[e._v(e._s(e.title))]),r("br"),r("p",[e._v("For: (nickname)")]),r("br"),r("p",[e._v(e._s(e.description))]),r("div",{attrs:{id:"logo"}},[r("img",{attrs:{src:e.imgData,width:e.widthPercent,height:e.heightPercent}})])])])])],1)},re=[],ae=(r("a4d3"),r("e01a"),r("e25e"),{components:{Layout:p["a"]},methods:{create:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,a={title:t.title,description:t.description,capacity:parseInt(t.capacity)},t.img_file?a.image_base64=t.img_file:a.image_url=t.img_src,a.image_params={width:t.widthPercent,height:t.heightPercent},r.next=7,t.$http.post("sync",a);case 7:t.$router.push({name:"Home"})["catch"]((function(){})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](1),t.error=r.t0.response.data.error,t.errorVisible=!0;case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},loadTextFromFile:function(){var e=this,t=this.$refs.imgFile.files[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(t){e.img_file=t.target.result},r.onerror=function(t){e.error=t,e.errorVisible=!0}},handleDismiss:function(){this.errorVisible=!1}},data:function(){return{title:null,description:null,capacity:null,img_height:100,img_width:100,img_src:null,img_file:null,error:null,errorVisible:!1}},computed:{imgData:function(){return this.img_file?this.img_file:this.img_src},widthPercent:function(){return"".concat(this.img_width,"%")},heightPercent:function(){return"".concat(this.img_height,"%")}}}),se=ae,ne=(r("8843"),Object(i["a"])(se,te,re,!1,null,null,null)),ie=ne.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==this.error&&this.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:this.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("div",{staticClass:"ui one column grid"},[r("div",{staticClass:"column"},[r("h1",{staticClass:"ui header"},[e._v("Upload model!")]),r("p",[e._v("You could re-upload your model after.")])])]),r("br"),r("div",{staticClass:"ui text container"},[r("sui-form",{staticClass:"ui form",attrs:{method:"post",action:""},on:{submit:e.create}},[r("div",{staticClass:"field"},[r("label",[e._v("Upload onnx model (will be encrypted automatically)")]),r("input",{ref:"modelFile",attrs:{type:"file"},on:{change:e.encryptModel}})]),r("button",{staticClass:"ui button",attrs:{type:"submit"}},[e._v("Submit")])])],1)])],1)},le=[],ce=r("df91"),ue=ce["a"],me=Object(i["a"])(ue,oe,le,!1,null,null,null),de=me.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("layout",[null!==e.error&&e.errorVisible?r("sui-message",{staticClass:"ui error message",attrs:{content:e.error,dismissable:""},on:{dismiss:e.handleDismiss}}):e._e(),r("div",{staticClass:"ui text container"},[r("p",[e._v("Test the vaccine: "),r("b",[e._v('"'+e._s(e.vaccineName)+'"')]),e._v(" by "),r("b",[e._v('"'+e._s(e.vaccineAuthor)+'"')])]),r("form",{staticClass:"ui form",attrs:{method:"post",action:""},on:{submit:e.test}},[r("div",{staticClass:"field"},[r("label",[e._v("Sex")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.testData.sex,expression:"testData.sex"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.testData,"sex",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[e._v("Male")]),r("option",{attrs:{value:"1"}},[e._v("Female")])])]),r("div",{staticClass:"field"},[r("label",[e._v("Age")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.testData.age,expression:"testData.age"}],attrs:{type:"number",required:"",name:"age",placeholder:"37"},domProps:{value:e.testData.age},on:{input:function(t){t.target.composing||e.$set(e.testData,"age",t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("Blood type")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.testData.blood_type,expression:"testData.blood_type"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.testData,"blood_type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"0"}},[e._v("O")]),r("option",{attrs:{value:"1"}},[e._v("A")]),r("option",{attrs:{value:"2"}},[e._v("B")]),r("option",{attrs:{value:"3"}},[e._v("AB")])])]),r("div",{staticClass:"field"},[r("label",[e._v("RH ")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.testData.rh,expression:"testData.rh"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.testData,"rh",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"-1"}},[e._v("Negative (-)")]),r("option",{attrs:{value:"1"}},[e._v("Positive (+)")])])]),r("div",{staticClass:"field"},[r("label",[e._v("Sugar-level (blood) ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.testData.sugar_level,expression:"testData.sugar_level"}],attrs:{type:"number",step:"0.1",required:"",name:"sugarlevel",placeholder:"1.15"},domProps:{value:e.testData.sugar_level},on:{input:function(t){t.target.composing||e.$set(e.testData,"sugar_level",t.target.value)}}})]),r("div",{staticClass:"field"},[r("label",[e._v("SSN ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.testData.ssn,expression:"testData.ssn"}],attrs:{type:"text",required:"",name:"ssn",placeholder:"e0132FN"},domProps:{value:e.testData.ssn},on:{input:function(t){t.target.composing||e.$set(e.testData,"ssn",t.target.value)}}})]),r("button",{staticClass:"ui button",attrs:{type:"submit",disabled:!!e.isLoading,v:""}},[e._v(" Test ")])])])],1)},ve=[],he=(r("0d03"),r("d3b7"),r("25f0"),r("2ca0"),r("6c27")),fe={components:{Layout:p["a"]},data:function(){return{vaccineID:null,vaccineName:"",vaccineAuthor:"",testData:{sex:0,age:0,blood_type:0,rh:1,sugar_level:1,ssn:""},captcha:{key:"",challenge:""},error:null,errorVisible:!1,isLoading:!1}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.vaccineID=e.$route.params.vaccineID,e.vaccineName=e.$route.params.vaccineName,e.vaccineAuthor=e.$route.params.vaccineAuthor,console.log(e.$route.params),t.next=6,e.getChallenge();case 6:case"end":return t.stop()}}),t)})))()},methods:{handleDismiss:function(){this.errorVisible=!1},getChallenge:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("captcha/get");case 3:r=t.sent,console.log(r.data),e.captcha.key=r.data.captcha_key,e.captcha.challenge=r.data.captcha_challenge,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.error=t.t0.response.data.error,e.errorVisible=!0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getMineToken:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.mineChallenge(),console.log(r),t.next=4,e.$http.post("captcha/validate",{key:e.captcha.key,answer:r});case 4:return a=t.sent,console.log(a.data),t.abrupt("return",a.data.captcha_token);case 7:case"end":return t.stop()}}),t)})))()},mineChallenge:function(){for(var e=0;e<1e14;e++){var t=this.captcha.challenge+e.toString();if(Object(he["sha256"])(t).startsWith("00000"))return e.toString()}return""},test:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.preventDefault(),t.isLoading=!0,r.t0=t.$http,r.t1="vaccine/".concat(t.vaccineID,"/test"),r.t2=t.testData,r.next=8,t.getMineToken();case 8:return r.t3=r.sent,r.t4={"X-Captcha-Token":r.t3},r.t5={headers:r.t4},r.next=13,r.t0.post.call(r.t0,r.t1,r.t2,r.t5);case 13:a=r.sent,console.log(a),t.isLoading=!1,t.$router.push({name:"TestResult",params:{testID:a.data.test_id}})["catch"]((function(){})),r.next=24;break;case 19:r.prev=19,r.t6=r["catch"](0),t.isLoading=!1,t.error=JSON.stringify(r.t6.response.data.detail),t.errorVisible=!0;case 24:case"end":return r.stop()}}),r,null,[[0,19]])})))()}}},ge=fe,_e=Object(i["a"])(ge,pe,ve,!1,null,null,null),be=_e.exports;a["a"].use(u["a"]);var ye=[{path:"/",name:"Index",component:g},{path:"/register",name:"Register",component:D},{path:"/login",name:"Login",component:I},{path:"/create",name:"Create",component:ie},{path:"/home",name:"Home",component:L},{path:"/latest",name:"Latest",component:B},{path:"/test/:vaccineID/test",name:"TestVaccine",component:be},{path:"/test/:testID/result",name:"TestResult",component:z},{path:"/upload",name:"Upload",component:de},{path:"/test/results",name:"TestResults",component:ee}],we=new u["a"]({mode:"history",base:"/",routes:ye}),xe=we,Ce=r("2f62"),De=r("0e44");a["a"].use(Ce["a"]);var ke=new Ce["a"].Store({state:{},mutations:{login:function(e,t){e.user=t.user,e.token=t.token,e.userId=t.userId},logout:function(e){e.user=null,e.token=null,e.userId=null}},actions:{},modules:{},plugins:[Object(De["a"])()]}),Re=r("080a"),$e=r.n(Re),Oe=r("4eb5"),Ve=r.n(Oe),Ie="";Ie=window.location.origin;var Ne=Ie,je="".concat(Ne,"/api"),Se=r("bc3a"),Pe=r.n(Se);Pe.a.defaults.baseURL=je,Pe.a.defaults.withCredentials=!0,a["a"].prototype.$http=Pe.a,ke.$http=Pe.a,a["a"].config.productionTip=!1,a["a"].use($e.a),a["a"].use(Ve.a),new a["a"]({router:xe,store:ke,render:function(e){return e(c)}}).$mount("#app")},"69dd":function(e,t,r){"use strict";var a=r("e57f"),s=r.n(a);s.a},8843:function(e,t,r){"use strict";var a=r("053e"),s=r.n(a);s.a},"88e9":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"ui inverted segment"},[r("div",{staticClass:"ui inverted secondary menu"},[r("a",{staticClass:"active item",attrs:{href:"/"}},[e._v(" Index "+e._s(this.$store.state.user)+" ")]),r("a",{staticClass:"active item",attrs:{href:"/latest"}},[e._v("Latest registered users(companies)")]),e.loggedIn?e._e():r("a",{staticClass:"active item",attrs:{href:"/login"}},[e._v("Login")]),e.loggedIn?e._e():r("a",{staticClass:"active item",attrs:{href:"/register"}},[e._v("Register")]),e.loggedIn?r("a",{staticClass:"active item",attrs:{href:"/home"}},[e._v("Home")]):e._e(),r("div",{staticClass:"right menu"},[r("a",{staticClass:"ui active item",attrs:{href:"#"},on:{click:e.logout}},[e._v(" Logout ")])])])]),e._t("default")],2)},s=[],n={computed:{loggedIn:function(){return null!=this.$store.state.user},user:function(){return this.$store.state.user}},methods:{logout:function(){this.$store.commit("logout")}}},i=n,o=r("2877"),l=Object(o["a"])(i,a,s,!1,null,null,null);t["a"]=l.exports},df91:function(e,t,r){"use strict";(function(e){r("96cf");var a=r("1da1"),s=r("88e9"),n=r("89b9"),i=r.n(n);t["a"]={components:{Layout:s["a"]},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserInfo();case 2:case"end":return t.stop()}}),t)})))()},methods:{getUserInfo:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.get("userinfo");case 3:r=t.sent,e.userInfo=r.data,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),e.error=JSON.stringify(t.t0.response.data.detail),e.errorVisible=!0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},create:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),r.prev=1,a=new FormData,console.log(t.encrypted),a.append("file",new Blob([t.encrypted.buffer])),r.next=7,t.$http.post("vaccine/upload",a,{headers:{"Content-Type":"multipart/form-data"}});case 7:t.$router.push({name:"Home"})["catch"]((function(){})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](1),t.error=JSON.stringify(r.t0.response.data.detail),t.errorVisible=!0;case 14:case"end":return r.stop()}}),r,null,[[1,10]])})))()},encryptModel:function(){var t=this,r=this.$refs.modelFile.files[0],a=new FileReader,s=this.userInfo.vaccine_info.vaccine_key,n=s.substring(0,64),i=s.substring(64);a.readAsBinaryString(r),a.onload=function(r){var a=r.target.result;t.encrypted=t.encryptDataChacha20(e.from(n,"hex"),e.from(i,"hex"),a)},a.onerror=function(e){t.error=e,t.errorVisible=!0}},encryptDataChacha20:function(t,r,a){for(var s=[],n=0;n<a.length;n++)s.push(a.charCodeAt(n));return i.a.encrypt(t,r,new e(s))},handleDismiss:function(){this.errorVisible=!1}},data:function(){return{userInfo:{},encrypted:null}}}}).call(this,r("b639").Buffer)},e57f:function(e,t,r){}});
//# sourceMappingURL=app.6d274c27.js.map